<jssor-slider></jssor-slider>


<div class="container" style="padding-left: 0; padding-right: 0; margin-top: 50px; margin-bottom: 50px;">

    <!--
        <div class="container-fluid" style="margin-left: 0; margin-right: 0;">
            <jssor-slider></jssor-slider>
        </div>
    -->

    <div class="row" style="margin-right: 0; margin-left: 0;">

        <div class="col-md-7 col-md-offset-1">
            <h3>{{quest['name']}}</h3>
            <p style="text-align: left;color: #1f2225; font-size: 1.2em; line-height: 200%;">
                {{quest['description']}}</p>

            <div class="quest-rules">
                <p>Minimum age of participants: 16 years.</p>
                <p>Please come on in quest of comfortable shoes without heels</p>
            </div>
        </div>
        <div class="col-md-3 col-md-offset-1" style="margin:0;">
            <div class="quest-price-div">
                <p>666 ГРН</p>
            </div>
            <div class="quest-params-div">
                <div style="display:table; margin:0 auto;">

                    <p><span><i class="fa fa-users" aria-hidden="true"></i></span> 2 - 4 Человека</p>
                    <p><span><i class="fa fa-clock-o" aria-hidden="true"></i></span> 60 Минут</p>
                    <p><span>
								<i class="fa fa-location-arrow" aria-hidden="true"></i>
							</span> Водопроводная 1 А</p>
                </div>
                <button type="button" class="btn btn-danger">ЗАБРОНИРОВАТЬ</button>
            </div>
        </div>


    </div>

</div>

<div my-map=""></div>

<div class="container-fluid" style="background-color: white;padding-left: 0; padding-right: 0;">
    <div class="row seven-cols" style="margin-left: 0; margin-right: 0;">

        <div class="container">
            <h3 style="text-align:center;">Таблица брони на квест "{{quest.name}}"</h3>
            <div class="row" style="margin-left: 0; margin-right: 0;">

                <!-- <div class="calendar-date" style="width:12,3%; margin-left: 10px; margin-top: 10px; float: left; border: 5px solid #ebf2f6; padding: 15px; text-align:center;"> -->
                <div class="col-md-1 calendar" ng-repeat="bookingDate in booking"
                     ng-class="{'blocked' : availableTimesCount(bookingDate) == 0}">


                        <p class="date">{{bookingDate['display_date']['day']}}</p>
                        <p class="date">{{bookingDate['display_date']['month']}}</p>


                    <div ng-hide="availableTimesCount(bookingDate)==0">
                        <!--<p class="date">Доступно : {{availableTimesCount(bookingDate)}}</p>-->
                        <p class="date">{{bookingDate['display_date']['day_name']}}</p>
                    </div>

                    <div ng-show="availableTimesCount(bookingDate)==0">
                        <p style="color: #fb383c;">Брони нет</p>
                    </div>

                    <a type="button" class="btn quest-button-b-sm"
                            ng-disabled="availableTimesCount(bookingDate)==0"
                            ng-click="showBookingModal(bookingDate,availableTimesCount(bookingDate))">БРОНИРОВАТЬ
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" tabindex="-1" role="dialog" id="booking_modal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Бронь на "{{quest.name}}"</h4>
                </div>
                {{userBooking}}
                <div class="modal-body">
                    {{modalBookingTime['date']}}
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-5">

                                <div class="checkbox checkbox-danger booking-time-list"
                                     ng-repeat="time in modalBookingTime['time']">

                                    <input id="checkbox{{$index+1}}" ng-model="time.selected" type="checkbox"
                                           ng-click="updateSelection($index, modalBookingTime['time'])"
                                           ng-disabled='time["is_booked"]=="true"'>
                                    <label for="checkbox{{$index+1}}"
                                           ng-class='{"time-booked": time["is_booked"]=="true"}'>
                                        <p>{{time['value']}}</p>
                                    </label>
                                </div>

                            </div>
                            <div class="col-md-7">
                                <form class="booking-form">
                                    <div class="form-group">

                                        <input type="email" class="form-control"
                                               placeholder="Email">
                                    </div>
                                    <div class="form-group">

                                        <input type="email" class="form-control"
                                               placeholder="Email">
                                    </div>
                                    <div class="form-group">

                                        <input type="email" class="form-control"
                                               placeholder="Email">
                                    </div>
                                    <div class="form-group">
                                        <textarea class="form-control" rows="5" cols="40"></textarea>
                                    </div>
                                </form>

                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn quest-button" ng-click="bookTime(time)">Забронировать</button>
                    <button type="button" class="btn quest-button-b" data-dismiss="modal">Закрыть</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->


</div>

